<div class="tracker">
  <div class="categories">
    <div *ngFor="let category of categories; let i = index">
      <div class="category-header" (click)="toggleCategory(i)">{{ category.name }}</div>
      <ul *ngIf="category.expanded">
        <li *ngFor="let food of category.foods">{{ food }}</li>
      </ul>
    </div>
  </div>

  <div class="add-food">
    <label>Select Category:
      <select [(ngModel)]="selectedCategoryIndex">
        <option *ngFor="let category of categories; let i = index" [value]="i">{{ category.name }}</option>
      </select>
    </label>
    <input [(ngModel)]="newFood" placeholder="Enter food name" />
    <button (click)="addFood()">Add Food</button>
  </div>

  <div class="energy-summary">
    <div class="summary-item">
      <p>Consumed</p>
      <p>{{ energySummary.consumed }} kcal</p>
    </div>
    <div class="summary-item">
      <p>Expenditure</p>
      <p>{{ energySummary.expenditure }} kcal</p>
    </div>
    <div class="summary-item">
      <p>Remaining</p>
      <p>{{ energySummary.remaining }} kcal</p>
    </div>
  </div>

  <div class="targets">
    <div *ngFor="let key of keys">
      <p>{{ key | titlecase }}: {{ consumed[key] }} / {{ targets[key] }} {{ key === 'energy' ? 'kcal' : 'g' }}</p>
    </div>
  </div>
</div>